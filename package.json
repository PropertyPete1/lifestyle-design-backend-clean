{
  "name": "lifestyle-design-backend-v2-clean",
  "version": "2.1.0",
  "description": "Backend v2 for Lifestyle Design Auto Poster",
  "main": "dist/server.js",
  "scripts": {
    "build": "tsc -p tsconfig.json || true && npm run copy:server && npm run copy:runtime && npm run version:write && npm run verify:dist",
    "copy:server": "mkdir -p dist && ( [ -f server.js ] && cp -f server.js dist/server.js || true )",
    "copy:runtime": "mkdir -p dist/services dist/utils dist/routes dist/models dist/providers && ( [ -d services ] && cp -R services/* dist/services/ || true ) && ( [ -d utils ] && cp -R utils/* dist/utils/ || true ) && ( [ -d routes ] && cp -R routes/* dist/routes/ || true ) && ( [ -d models ] && cp -R models/* dist/models/ || true ) && ( [ -d providers ] && cp -R providers/* dist/providers/ || true )",
    "version:write": "mkdir -p dist && (git rev-parse --short HEAD > dist/VERSION 2>/dev/null || echo ${RENDER_GIT_COMMIT:-unknown} > dist/VERSION) && date -u +%Y-%m-%dT%H:%M:%SZ > dist/BUILD_TIME",
    "verify:dist": "node -e \"const fs=require('fs'); const must=['dist/server.js','dist/services/autopilot.js','dist/services/postNow.js','dist/VERSION','dist/BUILD_TIME']; const missing=must.filter(p=>!fs.existsSync(p)); if(missing.length){console.error('❌ Missing in dist:',missing.join(', ')); process.exit(1)} else {console.log('✅ dist verified');}\"",
    "start": "node dist/server.js",
    "dev": "ts-node --transpile-only server.ts",
    "postinstall": "npm run build",
    "render-fast": "npm ci --only=production --silent --no-audit --no-fund || npm install --production --silent --no-audit --no-fund"
  },
  "engines": {
    "node": ">=18 <=20"
  },
  "dependencies": {
    "@aws-sdk/client-s3": "^3.863.0",
    "@aws-sdk/lib-storage": "^3.863.0",
    "aws-sdk": "^2.1691.0",
    "cors": "^2.8.5",
    "dotenv": "^16.6.1",
    "express": "^4.21.2",
    "ffmpeg-static": "^5.2.0",
    "fluent-ffmpeg": "^2.1.3",
    "form-data": "^4.0.1",
    "googleapis": "^155.0.0",
    "mongodb": "^5.7.0",
    "mongoose": "^7.8.7",
    "multer": "^1.4.5-lts.1",
    "node-cron": "^4.2.1",
    "node-fetch": "^2.7.0",
    "puppeteer": "^24.15.0",
    "sharp": "^0.33.2",
    "string-similarity": "^4.0.4"
  },
  "devDependencies": {
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/fluent-ffmpeg": "^2.1.24",
    "@types/multer": "^1.4.11",
    "@types/node": "^20.19.9",
    "ts-node": "^10.9.2",
    "typescript": "^5.9.2"
  },
  "keywords": [
    "autopilot",
    "social-media",
    "instagram",
    "youtube",
    "scheduling"
  ],
  "author": "Lifestyle Design Auto Poster",
  "license": "MIT"
}
